---
layout: post
categories: Rails
author: Nick Calabro
title: "CRUD (Part IV)"
image: railswelcome.jpg
excerpt: "Create, Read, Update, Destroy. The most important and basic features of any webapp."
---

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@NickCalabs" />
<meta name="twitter:title" content="{{ page.title }}" />
<meta name="twitter:description" content="Nick Calabro's Blog" />

<div class="message">This is part four of the six part series covering, in detail, how to <a href="http://nameless-dusk-8821.herokuapp.com">create this blog with Ruby on Rails</a> from backend to frontend. 
</div>

##Edit/Update

Let’s face it, you’re never going to write a whole post the right way on the first try. Hell, this post probably has so many typos I’m surprised you’re still reading it. Adding update and edit functionality is fairly easy in our Rails app. Here’s the extra code you’ll need in the `posts_controller.rb`:

```ruby
def edit
    @post = Post.find(params[:id])
end

def update
    @post = Post.find(params[:id])

    if @post.update(params[:post].permit(:title, :body))
        redirect_to @post
    else
        render 'edit'
    end
end

 def destroy
    @post = Post.find(params[:id])
    @post.destroy

    redirect_to root_path
end
```

From here, we now need a new view for the editing page. In `/posts`, create a new file called `edit.html.erb`. We can actually take the same code we have in `new.html.erb` and simply copy/paste it - just be sure to change the `h1` tag from “New Post” to “Edit Post”.

This is great. We have all this functionality, but there are no links to get to any of them, and who wants to type things into the address bar? In `show.html.erb`, somewhere near where we show the date of the post, go ahead and add these couple lines of code:

```ruby
<%= link_to 'Edit', edit_post_path(@post) %>
| <%= link_to 'Delete', post_path(@post), method: :delete, data: { confirm: "You sure?" } %>
```

With that, we now have all the CRUD features for our blog. Create, read, update, and destroy all the blog posts you’d like. We’re still not quite finished, though, but we’re nearly there.

<div class="message">
  If you liked this or found it useful please let me know. You can check out the code on my <a href="http://github.com/nickcalabs">GitHub</a> and I'd love to connect on <a href="http://twitter.com/nickcalabs">Twitter</a>, <a href="http://linkedin.com/in/nickcalabro">Linkedin</a>, or just chatting in <a href="mailto:calabro.nick@gmail.com">emails</a>.
</div>